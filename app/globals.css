/* Base styles and resets */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom utilities */
@layer utilities {
  /* Hide element visually but keep it accessible to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Show element when it's focused (for skip links) */
  .sr-only.focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: 0.5rem 1rem;
    margin: 0.5rem;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Improved focus styles for keyboard navigation */
  .focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-primary/50 ring-offset-background;
  }

  /* Focus styles for elements that don't use the focus-visible class */
  *:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-primary/50 ring-offset-background;
  }

  /* Remove focus styles for mouse users */
  .user-is-tabbing *:focus {
    @apply focus-visible;
  }

  /* Aspect ratio containers */
  .aspect-16\:10 {
    aspect-ratio: 16/10;
  }

  .aspect-19\.5\:9 {
    aspect-ratio: 19.5/9;
  }

  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      background: white;
      color: black;
      font-size: 12pt;
    }
    
    a {
      text-decoration: underline;
    }
    
    a[href^='http']::after {
      content: ' (' attr(href) ')';
      font-size: 0.8em;
      font-weight: normal;
    }
  }
}

@layer base {
  /* Base styles for the document */
  html {
    /* 1rem = 16px */
    font-size: 100%;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Set core body defaults */
  body {
    min-height: 100vh;
    text-rendering: optimizeSpeed;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Remove default margin and padding */
  *,
  *::before,
  *::after {
    margin: 0;
    padding: 0;
  }

  /* Remove list styles on ul, ol elements with a list role */
  ul[role='list'],
  ol[role='list'] {
    list-style: none;
  }

  /* Make images easier to work with */
  img,
  picture {
    max-width: 100%;
    display: block;
    height: auto;
  }

  /* Inherit fonts for inputs and buttons */
  input,
  button,
  textarea,
  select {
    font: inherit;
  }

  /* Remove all animations, transitions and smooth scroll for people that prefer not to see them */
  @media (prefers-reduced-motion: reduce) {
    html:focus-within {
      scroll-behavior: auto;
    }
    
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  :root {
    /* ===== Color Palette ===== */
    /* Primary Colors */
    --color-primary: 0 188 212; /* Cyan */
    --color-primary-light: 178 235 242;
    --color-primary-dark: 0 151 167;
    
    /* Secondary Colors */
    --color-secondary: 255 107 107; /* Coral */
    --color-secondary-light: 255 184 184;
    --color-secondary-dark: 211 47 47;
    
    /* Neutral Colors */
    --color-neutral: 30 41 59; /* Navy */
    --color-neutral-light: 100 116 139;
    --color-neutral-dark: 15 23 42;
    
    /* Background & Surface */
    --color-background: 178 235 242;
    --color-surface: 248 250 252;
    --color-surface-elevated: 255 255 255;
    
    /* Text Colors */
    --color-text-primary: 15 23 42;
    --color-text-secondary: 71 85 105;
    --color-text-muted: 100 116 139;
    
    /* Status Colors */
    --color-success: 34 197 94;
    --color-warning: 234 179 8;
    --color-error: 239 68 68;
    --color-info: 59 130 246;
    
    /* Border Colors */
    --color-border: 226 232 240;
    --color-border-hover: 203 213 225;
    
    /* Spacing Scale */
    --spacing-1: 0.25rem;  /* 4px */
    --spacing-2: 0.5rem;   /* 8px */
    --spacing-3: 0.75rem;  /* 12px */
    --spacing-4: 1rem;     /* 16px */
    --spacing-5: 1.25rem;  /* 20px */
    --spacing-6: 1.5rem;   /* 24px */
    --spacing-8: 2rem;     /* 32px */
    --spacing-10: 2.5rem;  /* 40px */
    --spacing-11: 2.75rem; /* 44px - Minimum touch target */
    --spacing-12: 3rem;    /* 48px */
    --spacing-16: 4rem;    /* 64px */
    --spacing-20: 5rem;    /* 80px */
    
    /* Typography */
    --font-sans: 'Open Sans', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-heading: 'Montserrat', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    
    /* Border Radius */
    --radius-sm: 0.25rem;  /* 4px */
    --radius-md: 0.375rem; /* 6px */
    --radius-lg: 0.5rem;   /* 8px */
    --radius-xl: 0.75rem;  /* 12px */
    --radius-2xl: 1rem;    /* 16px */
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    
    /* Transitions */
    --transition-colors: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease;
    --transition-transform: transform 0.2s ease;
    --transition-opacity: opacity 0.2s ease;
    
    /* Z-index */
    --z-index-dropdown: 50;
    --z-index-sticky: 100;
    --z-index-fixed: 200;
    --z-index-modal: 300;
    --z-index-toast: 400;
    --z-index-tooltip: 500;
  }
  
  /* Dark mode overrides */
  .dark {
    --color-background: 51 65 85;
    --color-surface: 30 41 59;
    --color-surface-elevated: 51 65 85;
    --color-text-primary: 248 250 252;
    --color-text-secondary: 203 213 225;
    --color-text-muted: 148 163 184;
    --color-border: 51 65 85;
    --color-border-hover: 71 85 105;
    
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  }
  
  /* Base element styles */
  * {
    @apply border-border;
    box-sizing: border-box;
  }
  
  html {
    @apply h-full scroll-smooth antialiased;
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    @apply min-h-screen bg-background text-text-primary font-sans;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1, 'pnum' 1, 'tnum' 0, 'onum' 0, 'lnum' 0;
    line-height: 1.5;
  }
  
  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-bold text-text-primary tracking-tight;
  }
  
  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl; }
  h3 { @apply text-2xl md:text-3xl; }
  h4 { @apply text-xl md:text-2xl; }
  h5 { @apply text-lg md:text-xl; }
  h6 { @apply text-base md:text-lg; }
  
  p {
    @apply text-text-primary leading-relaxed;
  }
  
  /* Links */
  a {
    @apply text-primary hover:text-primary-dark transition-colors;
    text-decoration: none;
  }
  
  /* Buttons and interactive elements */
  button,
  [role="button"],
  .btn {
    @apply relative inline-flex items-center justify-center rounded-md font-medium transition-colors;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary/50;
    @apply disabled:opacity-50 disabled:pointer-events-none;
    min-height: var(--spacing-11);
    min-width: var(--spacing-11);
    padding: 0 var(--spacing-4);
  }
  
  /* Forms */
  input,
  textarea,
  select {
    @apply w-full rounded-md border border-border bg-background px-3 py-2 text-text-primary;
    @apply focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: var(--spacing-11);
  }
  
  /* Focus styles for keyboard navigation */
  .user-is-tabbing *:focus-visible {
    @apply outline-2 outline-primary outline-offset-2;
  }
  
  /* Hide focus styles for mouse users */
  *:focus:not(:focus-visible) {
    @apply outline-none ring-0;
  }
  
  /* Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      background: white !important;
      color: black !important;
      font-size: 12pt;
    }
    
    a {
      text-decoration: underline !important;
    }
  }
}
